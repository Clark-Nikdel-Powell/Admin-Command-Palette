!function(global){function Fuse(list,options){this.list=list,this.options=options=options||{};var i,len,key,keys;for(i=0,keys=["sort","includeScore","shouldSort"],len=keys.length;len>i;i++)key=keys[i],this.options[key]=key in options?options[key]:Fuse.defaultOptions[key];for(i=0,keys=["searchFn","sortFn","keys","getFn"],len=keys.length;len>i;i++)key=keys[i],this.options[key]=options[key]||Fuse.defaultOptions[key]}var BitapSearcher=function(pattern,options){if(options=options||{},this.options=options,this.options.location=options.location||BitapSearcher.defaultOptions.location,this.options.distance="distance"in options?options.distance:BitapSearcher.defaultOptions.distance,this.options.threshold="threshold"in options?options.threshold:BitapSearcher.defaultOptions.threshold,this.options.maxPatternLength=options.maxPatternLength||BitapSearcher.defaultOptions.maxPatternLength,this.pattern=options.caseSensitive?pattern:pattern.toLowerCase(),this.patternLen=pattern.length,this.patternLen>this.options.maxPatternLength)throw new Error("Pattern length is too long");this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet()};BitapSearcher.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},BitapSearcher.prototype._calculatePatternAlphabet=function(){var mask={},i=0;for(i=0;i<this.patternLen;i++)mask[this.pattern.charAt(i)]=0;for(i=0;i<this.patternLen;i++)mask[this.pattern.charAt(i)]|=1<<this.pattern.length-i-1;return mask},BitapSearcher.prototype._bitapScore=function(errors,location){var accuracy=errors/this.patternLen,proximity=Math.abs(this.options.location-location);return this.options.distance?accuracy+proximity/this.options.distance:proximity?1:accuracy},BitapSearcher.prototype.search=function(text){if(text=this.options.caseSensitive?text:text.toLowerCase(),this.pattern===text)return{isMatch:!0,score:0};var i,j,binMin,binMid,start,finish,bitArr,lastBitArr,charMatch,textLen=text.length,LOCATION=this.options.location,THRESHOLD=this.options.threshold,bestLoc=text.indexOf(this.pattern,LOCATION),binMax=this.patternLen+textLen,score=1,locations=[];for(-1!=bestLoc&&(THRESHOLD=Math.min(this._bitapScore(0,bestLoc),THRESHOLD),bestLoc=text.lastIndexOf(this.pattern,LOCATION+this.patternLen),-1!=bestLoc&&(THRESHOLD=Math.min(this._bitapScore(0,bestLoc),THRESHOLD))),bestLoc=-1,i=0;i<this.patternLen;i++){for(binMin=0,binMid=binMax;binMid>binMin;)this._bitapScore(i,LOCATION+binMid)<=THRESHOLD?binMin=binMid:binMax=binMid,binMid=Math.floor((binMax-binMin)/2+binMin);for(binMax=binMid,start=Math.max(1,LOCATION-binMid+1),finish=Math.min(LOCATION+binMid,textLen)+this.patternLen,bitArr=Array(finish+2),bitArr[finish+1]=(1<<i)-1,j=finish;j>=start;j--)if(charMatch=this.patternAlphabet[text.charAt(j-1)],0===i?bitArr[j]=(bitArr[j+1]<<1|1)&charMatch:bitArr[j]=(bitArr[j+1]<<1|1)&charMatch|((lastBitArr[j+1]|lastBitArr[j])<<1|1)|lastBitArr[j+1],bitArr[j]&this.matchmask&&(score=this._bitapScore(i,j-1),THRESHOLD>=score)){if(THRESHOLD=score,bestLoc=j-1,locations.push(bestLoc),!(bestLoc>LOCATION))break;start=Math.max(1,2*LOCATION-bestLoc)}if(this._bitapScore(i+1,LOCATION)>THRESHOLD)break;lastBitArr=bitArr}return{isMatch:bestLoc>=0,score:score}};var deepValueHelper=function(obj,path,list){var firstSegment,remaining,dotIndex;if(path){dotIndex=path.indexOf("."),-1!==dotIndex?(firstSegment=path.slice(0,dotIndex),remaining=path.slice(dotIndex+1)):firstSegment=path;var value=obj[firstSegment];if(value)if(remaining||"string"!=typeof value&&"number"!=typeof value)if(Utils.isArray(value))for(var i=0,len=value.length;len>i;i++)deepValueHelper(value[i],remaining,list);else remaining&&deepValueHelper(value,remaining,list);else list.push(value)}else list.push(obj);return list},Utils={deepValue:function(obj,path){return deepValueHelper(obj,path,[])},isArray:function(obj){return"[object Array]"===Object.prototype.toString.call(obj)}};Fuse.defaultOptions={id:null,caseSensitive:!1,includeScore:!1,shouldSort:!0,searchFn:BitapSearcher,sortFn:function(a,b){return a.score-b.score},getFn:Utils.deepValue,keys:[]},Fuse.prototype.set=function(list){return this.list=list,list},Fuse.prototype.search=function(pattern){var j,item,bitapResult,existingResult,searcher=new this.options.searchFn(pattern,this.options),list=this.list,dataLen=list.length,options=this.options,searchKeys=this.options.keys,searchKeysLen=searchKeys.length,rawResults=[],resultMap={},results=[],analyzeText=function(text,entity,index){if(void 0!==text&&null!==text)if("string"==typeof text)bitapResult=searcher.search(text),bitapResult.isMatch&&(existingResult=resultMap[index],existingResult?existingResult.score=Math.min(existingResult.score,bitapResult.score):(resultMap[index]={item:entity,score:bitapResult.score},rawResults.push(resultMap[index])));else if(Utils.isArray(text))for(var i=0;i<text.length;i++)analyzeText(text[i],entity,index)};if("string"==typeof list[0])for(var i=0;dataLen>i;i++)analyzeText(list[i],i,i);else for(var i=0;dataLen>i;i++)for(item=list[i],j=0;searchKeysLen>j;j++)analyzeText(options.getFn(item,searchKeys[j]),item,i);options.shouldSort&&rawResults.sort(options.sortFn);for(var getItem=options.includeScore?function(i){return rawResults[i]}:function(i){return rawResults[i].item},replaceValue=options.id?function(i){rawResults[i].item=options.getFn(rawResults[i].item,options.id)[0]}:function(){},i=0,len=rawResults.length;len>i;i++)replaceValue(i),results.push(getItem(i));return results},"object"==typeof exports?module.exports=Fuse:"function"==typeof define&&define.amd?define(function(){return Fuse}):global.Fuse=Fuse}(this),function(window,document,undefined){function _addEvent(object,type,callback){return object.addEventListener?void object.addEventListener(type,callback,!1):void object.attachEvent("on"+type,callback)}function _characterFromEvent(e){if("keypress"==e.type){var character=String.fromCharCode(e.which);return e.shiftKey||(character=character.toLowerCase()),character}return _MAP[e.which]?_MAP[e.which]:_KEYCODE_MAP[e.which]?_KEYCODE_MAP[e.which]:String.fromCharCode(e.which).toLowerCase()}function _modifiersMatch(modifiers1,modifiers2){return modifiers1.sort().join(",")===modifiers2.sort().join(",")}function _eventModifiers(e){var modifiers=[];return e.shiftKey&&modifiers.push("shift"),e.altKey&&modifiers.push("alt"),e.ctrlKey&&modifiers.push("ctrl"),e.metaKey&&modifiers.push("meta"),modifiers}function _preventDefault(e){return e.preventDefault?void e.preventDefault():void(e.returnValue=!1)}function _stopPropagation(e){return e.stopPropagation?void e.stopPropagation():void(e.cancelBubble=!0)}function _isModifier(key){return"shift"==key||"ctrl"==key||"alt"==key||"meta"==key}function _getReverseMap(){if(!_REVERSE_MAP){_REVERSE_MAP={};for(var key in _MAP)key>95&&112>key||_MAP.hasOwnProperty(key)&&(_REVERSE_MAP[_MAP[key]]=key)}return _REVERSE_MAP}function _pickBestAction(key,modifiers,action){return action||(action=_getReverseMap()[key]?"keydown":"keypress"),"keypress"==action&&modifiers.length&&(action="keydown"),action}function _keysFromString(combination){return"+"===combination?["+"]:(combination=combination.replace(/\+{2}/g,"+plus"),combination.split("+"))}function _getKeyInfo(combination,action){var keys,key,i,modifiers=[];for(keys=_keysFromString(combination),i=0;i<keys.length;++i)key=keys[i],_SPECIAL_ALIASES[key]&&(key=_SPECIAL_ALIASES[key]),action&&"keypress"!=action&&_SHIFT_MAP[key]&&(key=_SHIFT_MAP[key],modifiers.push("shift")),_isModifier(key)&&modifiers.push(key);return action=_pickBestAction(key,modifiers,action),{key:key,modifiers:modifiers,action:action}}function _belongsTo(element,ancestor){return element===document?!1:element===ancestor?!0:_belongsTo(element.parentNode,ancestor)}function Mousetrap(targetElement){function _resetSequences(doNotReset){doNotReset=doNotReset||{};var key,activeSequences=!1;for(key in _sequenceLevels)doNotReset[key]?activeSequences=!0:_sequenceLevels[key]=0;activeSequences||(_nextExpectedAction=!1)}function _getMatches(character,modifiers,e,sequenceName,combination,level){var i,callback,matches=[],action=e.type;if(!self._callbacks[character])return[];for("keyup"==action&&_isModifier(character)&&(modifiers=[character]),i=0;i<self._callbacks[character].length;++i)if(callback=self._callbacks[character][i],(sequenceName||!callback.seq||_sequenceLevels[callback.seq]==callback.level)&&action==callback.action&&("keypress"==action&&!e.metaKey&&!e.ctrlKey||_modifiersMatch(modifiers,callback.modifiers))){var deleteCombo=!sequenceName&&callback.combo==combination,deleteSequence=sequenceName&&callback.seq==sequenceName&&callback.level==level;(deleteCombo||deleteSequence)&&self._callbacks[character].splice(i,1),matches.push(callback)}return matches}function _fireCallback(callback,e,combo,sequence){self.stopCallback(e,e.target||e.srcElement,combo,sequence)||callback(e,combo)===!1&&(_preventDefault(e),_stopPropagation(e))}function _handleKeyEvent(e){"number"!=typeof e.which&&(e.which=e.keyCode);var character=_characterFromEvent(e);if(character)return"keyup"==e.type&&_ignoreNextKeyup===character?void(_ignoreNextKeyup=!1):void self.handleKey(character,_eventModifiers(e),e)}function _resetSequenceTimer(){clearTimeout(_resetTimer),_resetTimer=setTimeout(_resetSequences,1e3)}function _bindSequence(combo,keys,callback,action){function _increaseSequence(nextAction){return function(){_nextExpectedAction=nextAction,++_sequenceLevels[combo],_resetSequenceTimer()}}function _callbackAndReset(e){_fireCallback(callback,e,combo),"keyup"!==action&&(_ignoreNextKeyup=_characterFromEvent(e)),setTimeout(_resetSequences,10)}_sequenceLevels[combo]=0;for(var i=0;i<keys.length;++i){var isFinal=i+1===keys.length,wrappedCallback=isFinal?_callbackAndReset:_increaseSequence(action||_getKeyInfo(keys[i+1]).action);_bindSingle(keys[i],wrappedCallback,action,combo,i)}}function _bindSingle(combination,callback,action,sequenceName,level){self._directMap[combination+":"+action]=callback,combination=combination.replace(/\s+/g," ");var info,sequence=combination.split(" ");return sequence.length>1?void _bindSequence(combination,sequence,callback,action):(info=_getKeyInfo(combination,action),self._callbacks[info.key]=self._callbacks[info.key]||[],_getMatches(info.key,info.modifiers,{type:info.action},sequenceName,combination,level),void self._callbacks[info.key][sequenceName?"unshift":"push"]({callback:callback,modifiers:info.modifiers,action:info.action,seq:sequenceName,level:level,combo:combination}))}var self=this;if(targetElement=targetElement||document,!(self instanceof Mousetrap))return new Mousetrap(targetElement);self.target=targetElement,self._callbacks={},self._directMap={};var _resetTimer,_sequenceLevels={},_ignoreNextKeyup=!1,_ignoreNextKeypress=!1,_nextExpectedAction=!1;self._handleKey=function(character,modifiers,e){var i,callbacks=_getMatches(character,modifiers,e),doNotReset={},maxLevel=0,processedSequenceCallback=!1;for(i=0;i<callbacks.length;++i)callbacks[i].seq&&(maxLevel=Math.max(maxLevel,callbacks[i].level));for(i=0;i<callbacks.length;++i)if(callbacks[i].seq){if(callbacks[i].level!=maxLevel)continue;processedSequenceCallback=!0,doNotReset[callbacks[i].seq]=1,_fireCallback(callbacks[i].callback,e,callbacks[i].combo,callbacks[i].seq)}else processedSequenceCallback||_fireCallback(callbacks[i].callback,e,callbacks[i].combo);var ignoreThisKeypress="keypress"==e.type&&_ignoreNextKeypress;e.type!=_nextExpectedAction||_isModifier(character)||ignoreThisKeypress||_resetSequences(doNotReset),_ignoreNextKeypress=processedSequenceCallback&&"keydown"==e.type},self._bindMultiple=function(combinations,callback,action){for(var i=0;i<combinations.length;++i)_bindSingle(combinations[i],callback,action)},_addEvent(targetElement,"keypress",_handleKeyEvent),_addEvent(targetElement,"keydown",_handleKeyEvent),_addEvent(targetElement,"keyup",_handleKeyEvent)}for(var _REVERSE_MAP,_MAP={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},_KEYCODE_MAP={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_SHIFT_MAP={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},_SPECIAL_ALIASES={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},i=1;20>i;++i)_MAP[111+i]="f"+i;for(i=0;9>=i;++i)_MAP[i+96]=i;Mousetrap.prototype.bind=function(keys,callback,action){var self=this;return keys=keys instanceof Array?keys:[keys],self._bindMultiple.call(self,keys,callback,action),self},Mousetrap.prototype.unbind=function(keys,action){var self=this;return self.bind.call(self,keys,function(){},action)},Mousetrap.prototype.trigger=function(keys,action){var self=this;return self._directMap[keys+":"+action]&&self._directMap[keys+":"+action]({},keys),self},Mousetrap.prototype.reset=function(){var self=this;return self._callbacks={},self._directMap={},self},Mousetrap.prototype.stopCallback=function(e,element){var self=this;return(" "+element.className+" ").indexOf(" mousetrap ")>-1?!1:_belongsTo(element,self.target)?!1:"INPUT"==element.tagName||"SELECT"==element.tagName||"TEXTAREA"==element.tagName||element.isContentEditable},Mousetrap.prototype.handleKey=function(){var self=this;return self._handleKey.apply(self,arguments)},Mousetrap.init=function(){var documentMousetrap=Mousetrap(document);for(var method in documentMousetrap)"_"!==method.charAt(0)&&(Mousetrap[method]=function(method){return function(){return documentMousetrap[method].apply(documentMousetrap,arguments)}}(method))},Mousetrap.init(),window.Mousetrap=Mousetrap,"undefined"!=typeof module&&module.exports&&(module.exports=Mousetrap),"function"==typeof define&&define.amd&&define(function(){return Mousetrap})}(window,document),function($){var AcpModal;window.AcpModal=AcpModal||{},AcpModal={modal:$(".admin-command-palette"),inputField:$(".admin-command-palette input[type=search]"),isOpen:function(){return AcpModal.modal.hasClass("open")},init:function(){var Mousetrap=window.Mousetrap||{};Mousetrap.bind("shift shift",function(){return AcpModal.isOpen()?void AcpModal.close():void AcpModal.open()}),Mousetrap.bind("esc",function(){AcpModal.isOpen()&&AcpModal.close()})},open:function(){AcpModal.modal.addClass("open"),AcpModal.inputField.focus()},close:function(){AcpModal.inputField.blur(),AcpModal.inputField.val(""),AcpModal.modal.removeClass("open")}},AcpModal.init();var options={keys:["title"],threshold:".3"};new Fuse(acp_search_data.user_content,options)}(jQuery);